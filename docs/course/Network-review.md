---
icon: b fa-simplybuilt
category: 课程复习
date: 2021-12-31

tag:
  - 计网
---
# 计网复习

## 物理层

> 单位：bit
>
> 考虑多大的电压代表“0”/“1”，以及接收方如何识别发出放的所发送的比特流；
>
> 确定连接电缆的插头应该有多少根引脚及各引脚见应该如何连接。

### 信号：

- 模拟信号/连续信号：曲线
- 数字信号/离散信号：0/1

### 传输介质

- 双绞线
- 同轴电缆
- 多模光纤

### 信道

- 通信

  - 单向通信【单工】

  - 双向交替通信【半双工】

  - 双向同时通信【全双工】

- 带通调制：数字 –> 模拟

- 编码（基带调制）： 数字 –> 数字
  - 不归零制
  - 归零制
  - 曼切斯特编码
  - 差分曼切斯特编码

- 极限容量
  - 码元：常用时间间隔相同的符号来表示一个二进制数字，这样的时间间隔内的信号称为（二进制）码元。 而这个间隔被称为码元长度。【*1bit】

  - 码间窜扰：信号波失去了码元间的清晰界限

  - 奈氏准则：在带宽为 w (Hz)的低信道中，若不考虑噪声影响，则码元的最高传输速率为 **2w** (码元/秒)；例如，信道带宽为4000Hz，码元最高传输速率为每秒8000个码元

    **C=Rlog2(n) (bit/s) , R为最高码元传输速率【带宽*2】，n为分级**，如相位调制，分8项，n=8；振幅调制16个等级，n=16

  - 带宽：指在单位时间（一般指的是1秒钟）内能传输的数据量。如：

    **带宽=分组大小/分组发送时延**？

  - 信噪比：信号平均功率/噪声平均功率，记S/N，单位 dB；

    **信噪比(dB)=10lg(S/N) (dB)** 【转为分贝】

  - 香农公式：指出信道的极限信息传输速率C；表明信道信噪比越大，信息的极限传输速率就越高。

    **C = W log2(1+S/N) (bit/s)**

- 信道复用

  - 频分复用：所有用户同样时间占用不同带宽[Hz]资源
  - 时分复用：所有用户不同时间占用相同带宽[Hz]资源
  - 波分复用：光的频分复用
  - 码分复用：每个用户可以在同样的时间使用同样的频道通信


## 数据链路层

> 单位：帧
>
> 数据链路层提供的点到点的通信
>
> 运输层提供端到端的通信
>
> 点到点：可理解为主机于主机之家的通信。一个点代表一个硬件地址或IP地址，网络中的主机是通过硬件地址或IP地址标识的；
>
> 端到端：可理解为不同节点主机内的两个进程之间的通信，一个进程以端口来标识。

### 封装成帧

在数据前后添加首部和尾部

- SOH[0x01]: Start Of Header
- EOT[0x04]: End Of Transmission

### 透明传输

透明指某一实际存在的事物好像不存在一样；这里指使数据链路层对上层不存在一般，即确保数据中凑巧出的“SOH”、“EOT”等字符不被翻译为控制字符。

字节填充/字符填充：插入转义字符“ESC”[1B]

零比特填充：在信息字段，一旦发现5个连续1，立即填入0

### 差错控制

在数据传输过程中会产生**比特差错**

BER（Bit Error Rate）: 传输错误比特占总传输比特的比率

CRC：循环冗余校验码

## 网络层

> 单位：IP数据报
>
> 关心的是通信子网的运行控制
>
> 将网络层的协议控制单元(分组)【PCU】从源端传到目的端，完成**路径选择**，并为分组交换网上的不同主机提供**通信服务**。
>
> 进行路由选择，并实现流量控制、拥塞控制、差错控制、网际互连等

## 运输层

> 单位：TCP报文段、UDP用户数据报

## 应用层

> 单位：报文



## 网络地址

> [计算机网络基础知识整理](https://blog.csdn.net/m0_37568814/article/details/81018769?ops_request_misc=%7B%22request%5Fid%22%3A%22163952915816780271536234%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&request_id=163952915816780271536234&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-81018769.first_rank_v2_pc_rank_v29&utm_term=计算机网络&spm=1018.2226.3001.4187)

### IP地址分类

| Type | From      | To              |
| ---- | --------- | --------------- |
| A    | 0.0.0.0   | 127.255.255.255 |
| B    | 128.0.0.0 | 191.255.255.255 |
| C    | 192.0.0.0 | 223.255.255.255 |
| D    | 224.0.0.0 | 239.255.255.255 |
| E    | 240.0.0.0 | 247.255.255.255 |

**1、A类地址**

**A类IP地址：**由1个字节的网络地址和3个字节的主机地址，网络地址的最高位必须是“0”。

如：0XXXXXXX.XXXXXXXX.XXXXXXXX.XXXXXXXX（X代表0或1）

**A类IP地址范围：**1.0.0.1---126.255.255.254

**A类IP地址中的私有地址和保留地址：**

① 10.X.X.X是私有地址（所谓的私有地址就是在互联网上不使用，而被用在局域网络中的地址）。

范围（10.0.0.1---10.255.255.254）

② 127.X.X.X是保留地址，用做循环测试用的。

**2、B类地址**

**B类IP地址：**由2个字节的网络地址和2个字节的主机地址，网络地址的最高位必须是“10”。

如：10XXXXXX.XXXXXXXX.XXXXXXXX.XXXXXXXX（X代表0或1）

**B类IP地址范围：**128.0.0.1---191.255.255.254。

**B类IP地址的私有地址和保留地址：**

① 172.16.0.0---172.31.255.254是私有地址

② 169.254.X.X是保留地址。如果你的IP地址是自动获取IP地址，

而你在网络上又没有找到可用的DHCP服务器。就会得到其中一个IP。

191.255.255.255是广播地址，不能分配。

**3、C类地址**

**C类IP地址：**由3个字节的网络地址和1个字节的主机地址，网络地址的最高位必须是“110”。

如：110XXXXX.XXXXXXXX.XXXXXXXX.XXXXXXXX（X代表0或1）

**类IP地址范围：**192.0.0.1---223.255.255.254。

**C类地址中的私有地址：**

192.168.X.X是私有地址。（192.168.0.1---192.168.255.255)

**4、D类地址**

**D类地址：**不分网络地址和主机地址，它的第1个字节的前四位固定为1110。

如：1110XXXX.XXXXXXXX.XXXXXXXX.XXXXXXXX（X代表0或1）

**D类地址范围：**224.0.0.1---239.255.255.254

**5、E类地址**

**E类地址：**不分网络地址和主机地址，它的第1个字节的前四位固定为 1111。

如：1111XXXX.XXXXXXXX.XXXXXXXX.XXXXXXXX（X代表0或1）

**E类地址范围：**240.0.0.1---255.255.255.254

### 私有地址

**A类：**10.0.0.0~10.255.255.255

**B类：**172.16.0.0~172.31.255.255

**C类：**192.168.0.0~192.168.255.255

我们买的无线路由器，也要设置局域网，一般为192开头的，比如192.168.0.1或者192.168.199.1

我们建企业网（单位网络）时，一般是使用私有地址来分配内部主机，小企业使用C类的192.168.0.0网络，中型企业使用172.16.0.0网络，如果还不够用，还有10.0.0.0 网络。

### 特殊IP

**1、0.0.0.0**

严格说来，这个奇葩的地址0.0.0.0已经不是一个真正意义上的IP地址了。它表示的是这样一个集合：也就是说；所有不清楚的主机和目的网络。这里的“不清楚”是指在本机的路由表里没有特定条目指明如何到达。对本机来说，它就是一个“收容所”，所有不认识的“三无”人员，一律送进去。如果你在网络设置中设置了缺省网关，那么计算机系统会自动产生一个目的地址为0.0.0.0的缺省路由。

**2、255.255.255.255 限制广播地址。**

对本机来说，这个地址指本网段内(同一广播域)的所有主机。

然而它的意思很明确，使用人类语言来说意思就是“这里的所有计算机都注意了”这个地址不能被路由器所转发。

**3、127.0.0.1 本机地址**

主要用于测试。用汉语表示，就是“我自己”。在Windows系统中，这个地址有一个别名“Localhost”。寻址这样一个地址，是不能把它发到网络接口的。除非出错，否则在传输介质上永远不应该出现目的地址为“127.0.0.1”的数据包。

**4、224.0.0.1 组播地址**

注意它和广播的区别。从224.0.0.0到239.255.255.255都是这样的地址。224.0.0.1特指所有主机，224.0.0.2特指所有路由器。这样的地址多用于一些特定的程序以及多媒体程序。如果你的主机开启了IRDP(Internet路由发现协议），使用组播功能功能，那么你的主机路由表中应该有这样一条路由。

**5、169.254.x.x**

如果你的主机使用了DHCP功能自动获得一个IP地址，那么当你的DHCP服务器发生故障，或响应时间太长而超出了一个系统规定的时间，计算机操作系统会为你分配这样一个地址。如果你发现你的主机IP地址是一个诸如此类的地址，很不幸的是，现在你的网络不能正常运行了。

**6、10.x.x.x；172.16.0.0---172.31.255.254；192.168.x.x；私有地址**

这些地址被大量用于企业内部网络中。一些宽带路由器，也往往使用192.168.1.1作为缺省地址。私有网络由于不与外部互连，因而可能使用随意的IP地址。保留这样的地址供其使用是为了避免以后接入公网时引起地址混乱。使用私有地址的私有网络在接入Internet时，要使用地址翻译(NAT)，将私有地址翻译成公用合法地址。在Internet上，这类地址是不能出现的。对一台网络上的主机来说，它可以正常接收的合法目的网络地址有三种：本机的IP地址、广播地址以及组播地址。

## TCP

【mac【ip【tcp】数据】】】

【ip【tcp】数据】-称为MTU

【数据链路层【网络层【运输层【应用层】】】】

数据过大，大于1460，需要分段，其中ack number用于对序号确认，seq number编号

Seq number：TCP连接建立时选择随机数作为初始值，通过SYN包传给接收端主机(SYN cookies采用基于时间种子的随机算法，且发送SYN+ACK后清空资源，收到ACK后通过cookie算法鉴定与SYN+ACK是否匹配)；每发送一次数据，就累加一次数据字节数；

Ack number：发送端收到此序号表明之前的数据都已被成功接受，其值为收到的报文段序号+1；

Header length：标识该TCP头部有多少个32bit字（4字节）。因为4位最大能表示15，所以TCP头部最长是60字节。

ICMP用于检查标识是否出问题，无法纠错。

## HTTPS

![https握手过程](https://gitee.com/yzketx/image-markdown/raw/master/img/202112151537104.png)

### 状态码

`429` Too Many Requests

